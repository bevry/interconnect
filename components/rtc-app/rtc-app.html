<!--
# The RTC App
This is us initialising our room and it working with all the magic.
-->
<link rel="import" href="http://bevry.github.io/interconnect/bower_components/polymer-localstorage/polymer-localstorage.html">

<link rel="import" href="../rtc-media/rtc-media.html" />
<link rel="import" href="../rtc-videoproc/rtc-videoproc.html" />
<link rel="import" href="../rtc-person/rtc-person.html" />
<link rel="import" href="../rtc-room-panel/rtc-room-panel.html" />

<polymer-element name="rtc-app" attributes="host room">
	<template>
		<link href="./rtc-app.css" rel="stylesheet" />
		<polymer-localstorage name="my-name" value="{{myName}}" on-polymer-localstorage-load="{{getName}}"></polymer-localstorage>
		<rtc-media id="media" stream="{{myStream}}" streamURI="{{myStreamURI}}" muted></rtc-media>
		<rtc-room-panel id="people">
			<rtc-person id="me" name="{{myName}}" streamURI="{{myStreamURI}}" snapshotURI="{{mySnapshotURI}}" video="{{myVideo}}" streaming muted></rtc-person>
		</rtc-room-panel>
		<rtc-videoproc id="snapshot" class="hidden" src="{{myVideo}}" imageURI="{{mySnapshotURI}}" filter="grayscale"></rtc-videoproc>
	</template>
	<script src="./rtc-app.js"></script>
</polymer-element>
